(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-table/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("app-preloader",{attrs:{loading:t.$root.loading||t.loading}},[a("router-view")],1)],1)])])])},i=[],o={name:"Home",data:function(){return{loading:!0}},mounted:function(){this.loading=!1}},s=o,l=(a("5c0b"),a("2877")),c=Object(l["a"])(s,r,i,!1,null,null,null),u=c.exports,p=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-home"},[a("div",{staticClass:"app-add-actions"},[a("button",{staticClass:"app-btn app-add-table btn btn-primary",on:{click:function(e){return t.addTable(32)}}},[t._v("Add small table")]),a("button",{staticClass:"app-btn app-add-table btn btn-primary",on:{click:function(e){return t.addTable(1e3)}}},[t._v("Add big table")])]),t.children?[t._l(t.children,(function(e,n){return[a("app-complex-table",{key:n,attrs:{rows:t.tableSize}})]}))]:t._e()],2)},f=[],h={name:"Home",data:function(){return{component:"app-table",children:1,tableSize:32,data:""}},methods:{addTable:function(t){this.tableSize=t,this.children++}},computed:{getChildreLength:function(){return this.$children.length}}},b=h,m=Object(l["a"])(b,d,f,!1,null,null,null),v=m.exports;n["a"].use(p["a"]);var g=[{path:"/",name:"Home",component:v}],_=new p["a"]({mode:"history",base:"/vue-table/",linkActiveClass:"is-active",linkExactActiveClass:"",routes:g}),C=_,w=a("2f62");n["a"].use(w["a"]);var y=new w["a"].Store({state:{},mutations:{},actions:{},modules:{}}),P=a("bc3a"),x=a.n(P),k=a("a7fe"),D=a.n(k),O=(a("4160"),a("b0c0"),a("b64b"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?a("div",{staticClass:"app-preloader",class:t.classes},[a("div",{staticClass:"app-preloader__icon"},[a("div",{staticClass:"preloader"})])]):this.$slots.default?[t._t("default")]:t._e()],2)}),S=[],E={name:"AppPreloader",props:{loading:{type:Boolean,default:!0},inComponent:Boolean},computed:{classes:function(){return{"app-preloader--in-component":this.inComponent}}}},N=E,j=Object(l["a"])(N,O,S,!1,null,null,null),$=j.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",appear:""},on:{"after-enter":t.show}},[a("div",{staticClass:"app-modal",attrs:{tabindex:"0"},on:{click:t.hide}},[a("transition",{attrs:{name:"fade",appear:""},on:{"after-leave":t.closeModal}},[t.showContent&&this.$slots.default?a("div",{staticClass:"app-modal__wrapper",style:"max-width: "+t.width,on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"app-modal__header"},[t.title||this.$slots.header?t._t("header",[t._v(t._s(t.title))]):t._e(),a("button",{staticClass:"app-modal__close",on:{click:t.hide}},[t._v("✖")])],2),a("div",{staticClass:"app-modal__body"},[t._t("default")],2),a("div",{staticClass:"app-modal__footer"},[a("div",{staticClass:"app-modal__footer-wrapper"},[this.$slots.footer?t._t("footer"):t._e(),t.noCloseBtn?t._e():a("button",{staticClass:"btn btn-link btn-sm",on:{click:t.hide}},[t._v("Close")])],2)])]):t._e()])],1)])},T=[],H=(a("a9e3"),{name:"AppModal",props:{title:String,width:[String,Number],noCloseBtn:{type:Boolean,defaul:!1}},data:function(){return{showContent:!1}},methods:{show:function(){var t=document.body;t.classList.add("is-fixed"),this.showContent=!0},hide:function(){var t=document.body;t.classList.remove("is-fixed"),this.showContent=!1},closeModal:function(t){this.$emit("closeModal",t)}}}),M=H,R=Object(l["a"])(M,A,T,!1,null,null,null),B=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-pagination"},[a("div",{staticClass:"app-pagination__total"},[t._v(" Pages: "+t._s(t.totalPages)+" ")]),a("div",{staticClass:"app-pagination__list pagination"},[t.totalPages>5?a("div",{staticClass:"app-pagination__item page-item",class:1==t.currentPage?"is-disabled disabled":""},[a("div",{staticClass:"app-pagination__btn app-pagination__btn--start page-link",on:{click:function(e){return t.changeCurrentPage(1)}}},[t._v("Start")])]):t._e(),a("div",{staticClass:"app-pagination__item page-item",class:1==t.currentPage?"is-disabled disabled":""},[a("div",{staticClass:"app-pagination__btn app-pagination__btn--prev page-link",on:{click:function(e){return t.changeCurrentPage(t.currentPage-1)}}},[t._v("Prev")])]),t._l(t.currentPaginationPages,(function(e,n){return[a("div",{key:n,staticClass:"app-pagination__item page-item",class:e==t.currentPage?"is-active active":"",on:{click:function(a){return t.changeCurrentPage(e)}}},[a("div",{staticClass:"page-link"},[t._v(t._s(e))])])]})),a("div",{staticClass:"app-pagination__item page-item",class:t.currentPage==t.totalPages?"is-disabled disabled":""},[a("div",{staticClass:"app-pagination__btn app-pagination__btn--next page-link",on:{click:function(e){return t.changeCurrentPage(t.currentPage+1)}}},[t._v("Next")])]),t.totalPages>5?a("div",{staticClass:"app-pagination__item page-item",class:t.currentPage==t.totalPages?"is-disabled disabled":""},[a("div",{staticClass:"app-pagination__btn app-pagination__btn--end page-link",on:{click:function(e){return t.changeCurrentPage(t.totalPages)}}},[t._v("End")])]):t._e()],2)])},V=[],F=(a("fb6a"),{name:"AppPagination",data:function(){return{currentPage:1}},props:{pageSize:{type:Number,default:10},total:Number},watch:{total:function(){this.total<=this.pageSize&&this.changeCurrentPage(1)}},methods:{changeCurrentPage:function(t){this.currentPage=t,this.$emit("changeCurrentPage",t)}},computed:{totalPages:function(){return Math.ceil(this.total/this.pageSize)},paginationPages:function(){for(var t=[],e=1;e<=this.totalPages;e++)t.push(e);return t},currentPaginationPages:function(){var t=this.paginationPages,e=this.currentPage;return e<=3?t.slice(0,5):e>=t.length-2?t.slice(-5):t.slice(e-3,e+2)}}}),z=F,q=Object(l["a"])(z,I,V,!1,null,null,null),L=q.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-complex-table",class:t.meta},[a("app-preloader",{attrs:{"in-component":"",loading:t.loading}}),t.data&&t.data.length>0?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"app-complex-table__search form-control",attrs:{type:"text",placeholder:"Enter text..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("div",{staticClass:"app-complex-table__table"},[a("app-table",{attrs:{sortDir:t.sort.currentSortDir,sortName:t.sort.currentSortName},on:{addRowHere:t.addRowHere,sortData:t.changeCurrentSort},model:{value:t.currentPaginationData,callback:function(e){t.currentPaginationData=e},expression:"currentPaginationData"}})],1),a("div",{staticClass:"app-complex-table__actions"},[a("div",{staticClass:"app-complex-table__buttons"},[a("div",{staticClass:"gutter-1"},[a("button",{staticClass:"app-btn btn btn-light",on:{click:t.deleteTable}},[t._v("Delete Table")]),a("button",{staticClass:"app-btn btn btn-light",on:{click:function(e){return t.clearData(t.data)}}},[t._v("Clear Table")]),a("button",{staticClass:"app-btn btn btn-light",on:{click:t.openModal}},[t._v("Copy Table")]),a("button",{staticClass:"app-btn btn btn-light",on:{click:t.restoreFromBuffer}},[t._v("Restore Table")])])]),a("div",{staticClass:"app-complex-table__pagination"},[a("app-pagination",{attrs:{total:t.totalItems},on:{changeCurrentPage:t.setCurrentPage}})],1)]),t.showModal?a("app-modal",{attrs:{title:"Данные таблицы"},on:{closeModal:t.closeModal},scopedSlots:t._u([{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-light",on:{click:function(e){return t.copyTable(t.filterData)}}},[t._v("Copy")])]},proxy:!0}],null,!1,2980392929)},[a("pre",[t._v("                "),a("code",[t._v("\n                    "+t._s(t.filterData)+"\n                ")]),t._v("\n            ")])]):t._e()]:[a("div",{staticClass:"app-complex-table__no-data"},[t._v("No data")])]],2)},J=[],U=(a("4de4"),a("7db0"),a("caad"),a("c975"),a("4e82"),a("a434"),a("0d03"),a("d3b7"),a("07ac"),a("ac1f"),a("25f0"),a("2532"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d"),a("bf2d")),Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-table table-responsive"},[t.value&&t.value.length>0?a("table",{staticClass:"app-table__table table table-bordered"},[t.tableFields?a("thead",{staticClass:"app-table__head thead-dark"},[a("app-table-row",{key:"table-header",attrs:{"table-header":"",sortDir:t.sortDir,sortName:t.sortName},on:{sortData:t.sortData},model:{value:t.tableFields,callback:function(e){t.tableFields=e},expression:"tableFields"}})],1):t._e(),t.value?a("tbody",{staticClass:"app-table__body"},[t._l(t.value,(function(e,n){return[a("app-table-row",{key:n,on:{addRowHere:t.addRowHere},model:{value:t.value[n],callback:function(e){t.$set(t.value,n,e)},expression:"value[index]"}})]}))],2):t._e()]):[a("div",{staticClass:"app-table__no-result"},[t._v("No result")])]],2)},K=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"app-table-row"},[t._l(t.value,(function(e,n,r){return[a("app-table-cell",{key:n,staticClass:"app-table-row__cell",attrs:{bold:0==r,edit:!0,sortDir:t.sortDir,sortName:t.sortName,"table-header":t.tableHeader},on:{sortData:t.sortData},model:{value:t.value[n],callback:function(e){t.$set(t.value,n,e)},expression:"value[key]"}})]})),t.actions?a("app-table-cell",{staticClass:"app-table-row__cell app-table-row__cell--actions text-center",attrs:{"table-header":t.tableHeader}},[t.tableHeader?[t._v(" Actions ")]:[a("i",{staticClass:"far fa-copy",attrs:{title:"Copy row here"},on:{click:function(e){return t.addRowHere(t.currentId)}}}),a("i",{staticClass:"fas fa-plus-square",attrs:{title:"Add row here"},on:{click:function(e){return t.addRowHere(t.currentId,!0)}}}),a("i",{staticClass:"far fa-plus-square",attrs:{title:"Add row end"},on:{click:function(e){return t.addRowHere()}}})]],2):t._e()],2)},X=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tableHeader?"th":"td",{tag:"component",staticClass:"app-table-cell",class:t.classes(t.value),on:{click:function(e){t.tableHeader&&t.sortData(t.value)},dblclick:t.startEdit}},[t.canEdit&&t.localEdit?[a("input",{directives:[{name:"autofocus",rawName:"v-autofocus",value:!0,expression:"true"}],attrs:{type:"text"},domProps:{value:t.value},on:{blur:function(e){return t.stopEdit(e)},input:function(e){return t.updateValue(e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.stopEdit(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.stopEdit(e)}]}})]:[t._t("default",[t._v(t._s(t.value))])]],2)},Z=[],tt=(a("cc71"),{props:{value:[Number,String,Array,Object],tableHeader:{type:Boolean,default:!1},sortName:[Number,String],sortDir:String},methods:{sortData:function(t){this.$emit("sortData",t)},addRowHere:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$emit("addRowHere",t,e)}}}),et={inserted:function(t,e){var a=e.value;a&&t.focus()}},at={name:"AppTableCell",data:function(){return{localEdit:!1,oldValue:this.value}},props:{edit:{type:Boolean,default:!1},bold:Boolean},methods:{classes:function(t){return[{"app-table-cell--header":this.tableHeader},{"app-table-cell--bold":this.bold},this.sortName==t&&this.tableHeader?"app-table-cell--".concat(this.sortDir," is-active"):""]},updateValue:function(t){this.$emit("input",t)},onInput:function(t){this.updateValue(t.target.value)},stopEdit:function(t){"keydown"===t.type&&27===t.keyCode?this.updateValue(this.oldValue):"keydown"===t.type&&13===t.keyCode&&this.updateValue(t.target.value),this.localEdit=!1},startEdit:function(){this.oldValue=this.value,this.localEdit=!!this.canEdit}},computed:{canEdit:function(){return!(this.tableHeader||!this.edit)}},directives:{autofocus:et},mixins:[tt]},nt=at,rt=Object(l["a"])(nt,Y,Z,!1,null,null,null),it=rt.exports;function ot(t){var e={};for(var a in t)if(t.hasOwnProperty(a))if("object"==Object(U["a"])(t[a])){var n=ot(t[a]);for(var r in n)n.hasOwnProperty(r)&&(e[a+"."+r]=n[r])}else e[a]=t[a];return e}function st(t,e){Object.defineProperty(t,"uniqueId",{value:++e,enumerable:!1,writable:!0})}function lt(t){if(t.uniqueId)return t.uniqueId}var ct={name:"AppTableRow",props:{actions:{type:Boolean,default:!0}},computed:{currentId:function(){return lt(this.value)}},mixins:[tt],components:{AppTableCell:it}},ut=ct,pt=Object(l["a"])(ut,W,X,!1,null,null,null),dt=pt.exports,ft={name:"AppTable",computed:{tableFields:function(){return Object.keys(this.value[0])}},methods:{getObjectId:lt},mixins:[tt],components:{AppTableRow:dt}},ht=ft,bt=Object(l["a"])(ht,Q,K,!1,null,null,null),mt=bt.exports,vt=a("2ef0"),gt=a.n(vt),_t={name:"AppComplexTable",data:function(){return{data:[],showModal:!1,sort:{currentSortName:"id",currentSortDir:"asc"},search:"",pagination:{currentPage:1,pageSize:10},loading:!1,getDataOnCreate:!0}},props:{fields:{type:Array,default:function(){return["id","firstName","lastName","email","phone","adress"]}},rows:{type:Number,default:1},meta:{type:Array,default:function(){return["app-complex-table--even"]}}},created:function(){this.getDataOnCreate&&this.getData()},methods:{getData:function(){var t=this;return new Promise((function(e){if(t.beforeGetData()){t.loading=!0;var a=new URLSearchParams,n=t.getQuery();n&&t.appendParams(a,n),t.axios.get(t.$api,{params:a}).catch((function(t){throw new Error(t)})).then((function(a){t.$set(t,"data",a.data),t.afterGetData(),e(t.data),t.loading=!1}))}}))},beforeGetData:function(){return!0},getQuery:function(){var t=this,e={};return this.fields.forEach((function(a){e[a]=t.getFieldParams(a)})),e.rows=this.rows,e},getFieldParams:function(t){switch(t){case"id":return"{number|1000}";case"firstName":return"{firstName}";case"lastName":return"{lastName}";case"email":return"{email}";case"phone":return"{phone|(xxx)xxx-xx-xx}";case"adress":return"{addressObject}";case"description":return"{lorem|32}"}},appendParams:function(t,e){for(var a in e)e.hasOwnProperty(a)&&t.append(a,e[a])},flatData:function(t){t.forEach((function(e,a){t[a]=ot(e)}))},sortData:function(){this.data=gt.a.orderBy(this.data,this.sort.currentSortName,this.sort.currentSortDir)},afterGetData:function(){this.flatData(this.data),this.sortData(this.sort.currentSortName),this.$emit("afterGetData",{data:this.data})},addRowHere:function(t,e){var a={};t?(a=gt.a.cloneDeep(this.data[t-1]),1==e&&(this.clearData(a),a.id=0),this.data.splice(t,0,a)):(a=gt.a.cloneDeep(this.data[0]),this.clearData(a),a.id=0,this.data.push(a))},setCurrentPage:function(t){this.pagination.currentPage=t},openModal:function(){this.showModal=!0},closeModal:function(){this.showModal=!1},deleteTable:function(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)},clearData:function(t,e){var a=this;t&&Object.keys(t).forEach((function(n){"object"===Object(U["a"])(t[n])?a.clearData(t[n],e):e&&-1!=e.indexOf(n)?t[n]="-":e||(t[n]="-")}))},changeCurrentSort:function(t){t===this.sort.currentSortName&&(this.sort.currentSortDir="asc"===this.sort.currentSortDir?"desc":"asc"),this.sort.currentSortName=t,this.sortData()},copyTable:function(t){navigator.clipboard.writeText(JSON.stringify(t)).catch((function(t){throw new Error(t)}))},restoreFromBuffer:function(){var t=this;navigator.clipboard.readText().then((function(e){t.data=JSON.parse(e),t.pagination.currentPage=1})).catch((function(t){throw new Error(t)}))},setUniqueData:function(t){t.forEach((function(t,e){st(t,e)}))}},computed:{filterData:function(){var t=this.data,e=this.search;return this.setUniqueData(t),e&&(t=gt.a.filter(t,(function(t){var a=Object.values(t);return a.find((function(t){return t.toString().toLowerCase().includes(e.toString().toLowerCase())}))}))),t},totalItems:function(){return this.filterData.length},currentPaginationData:function(){var t=this.pagination.currentPage,e=this.pagination.pageSize,a=(t-1)*e,n=this.filterData;return this.totalItems>e?gt.a.drop(n,a).slice(0,e):n}},components:{AppTable:mt}},Ct=_t,wt=Object(l["a"])(Ct,G,J,!1,null,null,null),yt=wt.exports,Pt={AppPreloader:$,AppModal:B,AppPagination:L,AppComplexTable:yt,AppTable:mt,AppTableRow:dt,AppTableCell:it};function xt(t){Object.keys(Pt).forEach((function(e){var a=Pt[e];t.component(a.name,a)}))}"undefined"!==typeof window&&window.Vue&&xt(window.Vue);var kt={install:xt,Components:Pt};n["a"].config.productionTip=!1,n["a"].use(D.a,x.a),n["a"].use(kt),n["a"].prototype.$api="https://www.filltext.com";var Dt=new n["a"]({data:function(){return{loading:!1}},router:C,store:y,render:function(t){return t(u)}}).$mount("#app");C.beforeEach((function(t,e,a){Dt.loading=!0,a()})),C.afterEach((function(){Dt.loading=!1}))},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.5aa43761.js.map